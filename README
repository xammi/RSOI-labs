# launch mongodb
/usr/local/Cellar/mongodb/3.4.0/bin/mongod

# launch services
python3 ./lr3_micros/companies/app.py
python3 ./lr3_micros/routes/app.py
python3 ./lr3_micros/sessions/app.py

# create company
curl -X POST -H "Content-Type: application/json" 'http://127.0.0.1:9092/company/' -d '{"abbreviation": "TTS", "name": "Transport Travel System", "info": null, "user": "xammi@yandex.ru"}'
curl -X GET 'http://localhost:9092/companies/?size=3&page=1'

# create route
curl -X POST -H "Content-Type: application/json" 'http://127.0.0.1:9093/route/' -d '{"name": "North Russia", "departure": "2015-10-10 12:00:00", "arrival": "2015-10-15 18:00:00", "price": 100, "company": "TTS"}'
curl -X GET 'http://127.0.0.1:9093/routes/?size=2&page=1'

# register user in browser by URL: http://127.0.0.1:9091/register/

# launch client application
python3 ./lr3_client.py

# authorize through oauth2 by URL: http://127.0.0.1:9090/
# register on route by query: POST route/586f9570050df411919ca465/register
# take personal info (aggregation query): GET me

# the result is:
{
    "data": {
        "first_name": "Максим",
        "last_name": "Кисленко",
        "created": "Fri, 06 Jan 2017 18:07:39 GMT",
        "_id": "586fb2bb050df416746d3d04",
        "routes": [
            {
                "price": 100,
                "locations": null,
                "company": "TTS",
                "name": "North Russia",
                "created": "Fri, 06 Jan 2017 16:02:40 GMT",
                "_id": "586f9570050df411919ca465",
                "arrival": "2015-10-15 18:00:00",
                "users": [
                    "xammi@yandex.ru"
                ],
                "departure": "2015-10-10 12:00:00"
            }
        ],
        "email": "xammi@yandex.ru",
        "companies": [
            {
                "created": "Sat, 07 Jan 2017 23:22:39 GMT",
                "info": null,
                "abbreviation": "TTS2",
                "name": "Transport Travel System",
                "user": "xammi@yandex.ru"
            }
        ]
    },
    "status": "OK"
}